<!doctype html>
<html lang="en" layout:decorate="~{productsBase}" xmlns:layout="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <title>Index</title>
</head>
<body>

<nav layout:fragment="nav">
    <ul>
        <li><a href="/home">Home</a></li>
        <li><a th:href="@{'/profile'}">Profile</a></li>
        <li><a aria-current="page">View Products</a></li>
        <li><a href="/product">Add Product</a>
        <li><a href="/messages">Messages</a></li>
        <li><a th:href="@{'/requests/' + ${user.customerId}}">Requests</a></li>
        <li><a href="/logout" role="button">Log Out</a></li>
    </ul>
</nav>

<div layout:fragment="productResults">

    <div th:if="${query != ''}">
        <b th:text="${'Results for ' + '&quot;'+ query + '&quot;'}"></b>
    </div>
    <div th:if="${products.isEmpty() == false}">
        <hr>
        <section th:each="product : ${products}">

            <h3><u th:text="${product.title}"></u></h3>
            <br>
            <div th:text="${#strings.abbreviate(product.description,100)}"></div>
            <br>
            <a th:href="@{/product/{id}(id=${product.id})}">read more</a>
            <hr>
        </section>
    </div>
    <div th:if="${products.isEmpty()}">
        <p>No results</p>
    </div>

</div>

</body>
</html>
