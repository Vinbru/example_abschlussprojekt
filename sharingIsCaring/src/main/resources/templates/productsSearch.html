<!doctype html>
<html lang="en" layout:decorate="~{productsBase}" xmlns:layout="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <title>Index</title>
</head>
<body>

<nav layout:fragment="nav">
    <ul>
        <li><a th:href="@{'/home/' + ${user.customerId}}">Home</a></li>
        <li><a th:href="@{'/profile/' + ${user.customerId}}">Profile</a></li>
        <li><a aria-current="base">view Products</a></li>
        <li><a href="/addProduct">add Product</a>
        <li><a th:href="@{'/profile/requests/' + ${user.customerId}}">requests</a></li>
        <li><a role="button">logout</a></li>
    </ul>
</nav>

<div layout:fragment="productResults">


    <b th:text="'Results for ' + ${query}"></b>
    <section th:each="product : ${products}">
        <hr>
        <h3 th:text="${product.title}"></h3>
        <p th:text="${#strings.abbreviate(product.description,100)}"></p>
        <a th:href="@{/{id}(id=${product.id})}">read more</a>
    </section>

</div>

</body>
</html>
