<!doctype html>
<html lang="en" layout:decorate="~{productsBase}" xmlns:layout="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <title>Index</title>
</head>
<body>

<nav layout:fragment="nav">
    <ul>
        <li><a href="/home">Home</a></li>
        <li><a th:href="@{'/profile'}">Profile</a></li>
        <li><a aria-current="base">view Products</a></li>
        <li><a href="/messages">messages</a></li>
        <li><a href="/product">add Product</a>
        <li><a th:href="@{'/requests/' + ${user.customerId}}">requests</a></li>
        <li><a href="/logout" role="button">logout</a></li>
    </ul>
</nav>

<div layout:fragment="productResults">


    <div th:if="${query != ''}">
        <b th:text="${'Results for ' + '&quot;'+ query + '&quot;'}"></b>
    </div>
    <div th:if="${products.isEmpty() == false}">
        <section th:each="product : ${products}">
            <hr>
            <h3 th:text="${product.title}"></h3>
            <p th:text="${#strings.abbreviate(product.description,100)}"></p>
            <a th:href="@{/product/{id}(id=${product.id})}">read more</a>
        </section>
    </div>
    <div th:if="${products.isEmpty()}">
        <p>No results</p>
    </div>

</div>

</body>
</html>
